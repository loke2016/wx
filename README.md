# 家庭共享相册微信小程序

## 项目介绍
家庭共享相册是一个专为家庭设计的微信小程序，旨在帮助家庭成员便捷地分享、存储和管理珍贵的家庭照片。通过简单易用的界面，家庭成员可以随时上传照片、浏览家人分享的图片、添加评论互动，共同构建家庭的数字记忆库。

## 功能特点

### 用户端功能
1. **照片浏览**：瀑布流展示所有家庭照片，按时间倒序排列
2. **照片上传**：支持多图选择、拍摄上传和添加文字描述
3. **照片详情**：大图查看、上传者信息展示、时间展示和评论互动
4. **家庭管理**：成员邀请、权限管理和存储空间统计
5. **个人中心**：查看个人上传照片、管理个人信息

### 技术特性
1. **安全特性**：
   - 家庭邀请码机制确保隐私安全
   - 图片防盗链保护
   - 敏感操作二次验证
   
2. **性能优化**：
   - 图片懒加载与缓存优化
   - 自动生成缩略图降低流量消耗
   - 分块上传支持大文件传输
   
3. **智能功能**：
   - EXIF信息提取
   - 敏感图片AI检测过滤
   - 预留人脸识别分组接口

## 技术架构

### 前端架构
- **框架**：微信小程序原生框架（WXML+WXSS+JavaScript）
- **页面结构**：
  - 首页（瀑布流相册）
  - 上传页
  - 照片详情页
  - 个人中心
  - 家庭管理页

### 后端架构
- **Web框架**：FastAPI（异步高性能）
- **数据库**：
  - PostgreSQL（主数据库）
  - Redis（缓存和会话管理）
- **存储方案**：MinIO对象存储
- **部署方式**：Docker容器化

### API接口
主要API接口包括：
- 用户认证接口（`/api/login`）
- 图片上传接口（`/api/upload`）
- 照片列表接口（`/api/photos`）
- 照片详情接口（`/api/photo/{id}`）
- 家庭成员管理接口（`/api/members`）

详细API文档请参考`docs/api`目录下的文档。

## 部署指南

### 前端部署
1. 使用微信开发者工具导入项目
2. 修改`config.js`中的API地址配置
3. 上传并发布小程序

### 后端部署
使用Docker Compose一键部署:
```bash
# 克隆代码
git clone https://github.com/your-repo/family-album.git

# 进入目录
cd family-album

# 修改.env配置文件
cp .env.example .env
# 编辑.env文件配置数据库密码和其他参数

# 启动服务
docker-compose up -d
```

## 项目结构
```
├── frontend/                  # 微信小程序前端代码
│   ├── pages/                 # 小程序页面
│   │   ├── index/            # 首页（相册浏览）
│   │   ├── upload/           # 照片上传页
│   │   ├── detail/           # 照片详情页
│   │   ├── profile/          # 个人中心
│   │   └── family/           # 家庭管理
│   ├── components/           # 公共组件
│   ├── utils/                # 工具函数
│   ├── static/               # 静态资源
│   │   └── images/           # 图标和图片资源
│   ├── app.js                # 小程序入口文件
│   └── app.json              # 小程序配置文件
│
├── backend/                  # 后端服务
│   ├── app/                  # 应用代码
│   │   ├── api/              # API接口
│   │   ├── core/             # 核心功能模块
│   │   ├── db/               # 数据库模型和工具
│   │   ├── services/         # 业务逻辑服务
│   │   └── utils/            # 工具函数
│   ├── tests/                # 测试代码
│   ├── Dockerfile            # Docker构建文件
│   └── requirements.txt      # Python依赖
│
├── docker-compose.yml        # Docker Compose配置
├── .env.example              # 环境变量示例
└── README.md                 # 项目说明
```

## 开发团队
- 产品设计 & 开发：[您的名字]

## 许可协议
本项目采用 MIT 许可证 # wx
